{"version":3,"sources":["videojs-markers.js"],"names":["defaultSetting","markerStyle","markerTip","display","text","marker","time","breakOverlay","displayTime","overlayText","style","onMarkerClick","onMarkerReached","index","onMarkerTextKeyPress","onMarkerTextClick","onMarkerTextDeleted","markers","rightThreshold","bookmarkPlaceHolder","getElementBounding","element","elementBounding","defaultBoundingRect","top","bottom","left","width","height","right","getBoundingClientRect","e","NULL_INDEX","registerVideoJsMarkersPlugin","options","videojs","mergeOptions","isPlain","value","toString","call","constructor","Object","source1","source2","result","sources","forEach","source","keys","key","createEl","tagName","props","attrs","el","Player","prototype","setAttribute","setting","markersMap","markersList","currentMarkerIndex","player","overlayIndex","sortMarkersList","sort","a","b","addMarkers","newMarkers","querySelector","appendChild","createMarkerDiv","push","getPosition","duration","setMarkderDivStyle","markerDiv","className","class","textarea","innerText","name","deleteIcon","id","title","checkIcon","label","for","bookmarkIcon","textCounter","length","bookMarkContent","container","addEventListener","event","preventDefault","stopPropagation","ratio","leftPercent","marginLeft","markerDivBounding","getAttribute","currentTime","registerMarkerTipHandler","updateMarkers","force","markerTime","removeByKey","totalMarkers","indexes","i","removeMarkers","indexArray","visibility","deleteIndexList","parentNode","removeChild","reverse","deleteIndex","splice","classList","add","remove","updateBreakOverlay","innerHTML","initializeOverlay","onTimeUpdate","onUpdateMarker","onTimeUpdateAfterMarkerUpdate","getNextMarkerTime","newMarkerIndex","nextMarkerTime","initialize","removeAll","on","off","getMarkers","next","prev","updateTime","reset","destroy","plugin"],"mappings":"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","file":"videojs-markers.js","sourcesContent":["/*! videojs-markers - v1.0.1 - 2018-07-11\n* Copyright (c) 2018 ; Licensed  */\n'use strict';\n\nimport videojs from 'video.js';\n\ntype Marker = {\n  time: number,\n  duration: number,\n  text?: string,\n  class?: string,\n  overlayText?: string,\n  // private property\n  key: string,\n};\n\n// default setting\nconst defaultSetting = {\n  markerStyle: {\n    'width':'7px',\n    'border-radius': '30%',\n    'background-color': 'red',\n  },\n  markerTip: {\n    display: true,\n    text: function(marker) {\n      return \"Break: \" + marker.text;\n    },\n    time: function(marker) {\n      return marker.time;\n    },\n  },\n  breakOverlay:{\n    display: false,\n    displayTime: 3,\n    text: function(marker) {\n      return \"Break overlay: \" + marker.overlayText;\n    },\n    style: {\n      'width':'100%',\n      'height': '20%',\n      'background-color': 'rgba(0,0,0,0.7)',\n      'color': 'white',\n      'font-size': '17px',\n    },\n  },\n  onMarkerClick: function(marker) {},\n  onMarkerReached: function(marker, index) {},\n  onMarkerTextKeyPress: function(marker, index) {},\n  onMarkerTextClick: function(marker, index) {},\n  onMarkerTextDeleted: function(marker, index) {},\n  markers: [],\n  rightThreshold: 80, //percent\n  bookmarkPlaceHolder: 'enter bookmark title'\n};\n\n\n/**\n * Returns the size of an element and its position\n * a default Object with 0 on each of its properties\n * its return in case there's an error\n * @param  {Element} element  el to get the size and position\n * @return {DOMRect|Object}   size and position of an element\n */\nfunction getElementBounding(element) {\n  var elementBounding;\n  const defaultBoundingRect = {\n    top: 0,\n    bottom: 0,\n    left: 0,\n    width: 0,\n    height: 0,\n    right: 0\n  };\n\n  try {\n    elementBounding = element.getBoundingClientRect();\n  } catch (e) {\n    elementBounding = defaultBoundingRect;\n  }\n\n  return elementBounding;\n}\n\nconst NULL_INDEX = -1;\n\nfunction registerVideoJsMarkersPlugin(options) {\n  // copied from video.js/src/js/utils/merge-options.js since\n  // videojs 4 doens't support it by defualt.\n  if (!videojs.mergeOptions) {\n    function isPlain(value) {\n      return !!value && typeof value === 'object' &&\n        toString.call(value) === '[object Object]' &&\n        value.constructor === Object;\n    }\n    function mergeOptions(source1: Object, source2: Object) {\n\n      const result = {};\n      const sources = [source1, source2];\n      sources.forEach(source => {\n        if (!source) {\n          return;\n        }\n        Object.keys(source).forEach(key => {\n          let value = source[key];\n          if (!isPlain(value)) {\n            result[key] = value;\n            return;\n          }\n          if (!isPlain(result[key])) {\n            result[key] = {};\n          }\n          result[key] = mergeOptions(result[key], value);\n        })\n      });\n      return result;\n    }\n    videojs.mergeOptions = mergeOptions;\n  }\n\n  if (!videojs.createEl) {\n    videojs.createEl = function(tagName: string, props: Object, attrs?: Object): void {\n      const el = videojs.Player.prototype.createEl(tagName, props);\n      if (!!attrs) {\n        Object.keys(attrs).forEach(key => {\n          el.setAttribute(key, attrs[key]);\n        });\n      }\n      return el;\n    }\n  }\n  \n\n  /**\n   * register the markers plugin (dependent on jquery)\n   */\n  let setting = videojs.mergeOptions(defaultSetting, options),\n      markersMap: {[key:string]: Marker} = {},\n      markersList: Array<Marker>  = [], // list of markers sorted by time\n      currentMarkerIndex  = NULL_INDEX,\n      player       = this,\n      markerTip    = null,\n      breakOverlay = null,\n      overlayIndex = NULL_INDEX;\n\n  function sortMarkersList(): void {\n    // sort the list by time in asc order\n    markersList.sort((a, b) => {\n      return setting.markerTip.time(a) - setting.markerTip.time(b);\n    });\n  }\n\n  function addMarkers(newMarkers: Array<Marker>): void {\n    newMarkers.forEach((marker: Marker) => {\n      player.el().querySelector('.vjs-progress-control')\n        .appendChild(createMarkerDiv(marker));\n\n      // store marker in an internal hash map\n      markersMap[marker.key] = marker;\n      markersList.push(marker);\n    });\n\n    sortMarkersList();\n  }\n\n  function getPosition(marker: Marker): number {\n    return (setting.markerTip.time(marker) / player.duration()) * 100;\n  }\n\n  function setMarkderDivStyle(marker: Marker, markerDiv: Object): void {\n    markerDiv.className = `vjs-bookmark ${marker.class || \"\"}`;\n\n      var textarea = videojs.createEl('textarea', {\n          className: 'marker-content',\n          innerText: marker.text,\n          'style': \"height: 35px;\",\n          'placeholder': setting.bookmarkPlaceHolder,\n          name: 'bookmark_title'\n      }, {\n          'marker-id': marker.key,\n          'maxlength': 140\n      });\n\n      var deleteIcon = videojs.createEl('button', {\n          className: 'udi udi-delete',\n          id: 'delete-icon-' + marker.key,\n          title: 'Delete'\n      });\n\n      var checkIcon = videojs.createEl('span', {\n          className: 'udi udi-check',\n          id: 'check-icon-' + marker.key\n      });\n\n      var label= videojs.createEl('label', {\n          className: 'sr-only',\n          for: 'bookmark_title',\n          innerText: 'Bookmark title'\n      });\n\n      var bookmarkIcon = videojs.createEl('span', {\n          className: 'udi udi-bookmark'\n      });\n\n      var textCounter = videojs.createEl('span', {\n          className: 'vjs-bookmark__content__counter',\n          id: 'text-counter-' + marker.key,\n          innerText: 140 - textarea.value.length\n      });\n\n      var bookMarkContent = videojs.createEl('div', {\n          className: 'vjs-bookmark__content',\n          id: 'marker-tip-' + marker.key\n      });\n\n      bookMarkContent.appendChild(bookmarkIcon);\n      bookMarkContent.appendChild(label);\n      bookMarkContent.appendChild(textarea);\n      bookMarkContent.appendChild(textCounter);\n      bookMarkContent.appendChild(deleteIcon);\n      bookMarkContent.appendChild(checkIcon);\n\n      var container = videojs.createEl('div', {});\n      container.appendChild(bookMarkContent);\n\n      markerDiv.appendChild(container);\n\n      if (typeof setting.onMarkerTextKeyPress === \"function\") {\n          // if return false, prevent default behavior\n          textarea.addEventListener('keypress', function(event) {\n              setting.onMarkerTextKeyPress(event, textarea, textCounter);\n          });\n      }\n\n      if (typeof setting.onMarkerTextClick === 'function') {\n          textarea.addEventListener('click', function(event) {\n              event.preventDefault();\n              event.stopPropagation();\n\n              setting.onMarkerTextClick(event, textarea);\n          });\n      }\n\n\n      if (typeof setting.onMarkerTextDeleted === 'function') {\n          deleteIcon.addEventListener('click', function(event) {\n              setting.onMarkerTextDeleted(event, textarea, textCounter);\n          });\n      }\n\n    Object.keys(setting.markerStyle).forEach(key => {\n      markerDiv.style[key] = setting.markerStyle[key];\n    });\n\n    // hide out-of-bound markers\n    const ratio = marker.time / player.duration();\n    if (ratio < 0 || ratio > 1) {\n      markerDiv.style.display = 'none';\n    }\n\n    // set position\n    var leftPercent = getPosition(marker);\n    if (leftPercent <= setting.rightThreshold) {\n        markerDiv.style.left = getPosition(marker) + '%';\n    } else {\n        markerDiv.style.right = (100 - getPosition(marker)) + '%';\n        bookMarkContent.style.right = '100%';\n    }\n\n    if (marker.duration) {\n      markerDiv.style.width = (marker.duration / player.duration()) * 100 + '%';\n      markerDiv.style.marginLeft = '0px';\n    } else {\n      const markerDivBounding = getElementBounding(markerDiv);\n      markerDiv.style.marginLeft = markerDivBounding.width / 2 + 'px';\n    }\n  }\n\n  function createMarkerDiv(marker: Marker): Object {\n\n    var markerDiv = videojs.createEl('div', {}, {\n      'data-marker-id': marker.key,\n      'data-marker-time': setting.markerTip.time(marker)\n    });\n\n    setMarkderDivStyle(marker, markerDiv);\n\n    // bind click event to seek to marker time\n    markerDiv.addEventListener('click', function(e) {\n      var preventDefault = false;\n      if (typeof setting.onMarkerClick === \"function\") {\n        // if return false, prevent default behavior\n        preventDefault = setting.onMarkerClick(marker) === false;\n      }\n\n      if (!preventDefault) {\n        var key = this.getAttribute('data-marker-id');\n        player.currentTime(setting.markerTip.time(markersMap[key]));\n      }\n    });\n\n    if (setting.markerTip.display) {\n      registerMarkerTipHandler(markerDiv);\n    }\n\n    return markerDiv;\n  }\n\n  function updateMarkers(force: boolean): void {\n    // update UI for markers whose time changed\n    markersList.forEach((marker: Marker) => {\n      var markerDiv = player.el().querySelector(\".vjs-bookmark[data-marker-id='\" + marker.key +\"']\");\n      var markerTime = setting.markerTip.time(marker);\n\n      if (force || markerDiv.getAttribute('data-marker-time') !== markerTime) {\n        setMarkderDivStyle(marker, markerDiv);\n        markerDiv.setAttribute('data-marker-time', markerTime);\n      }\n    });\n    sortMarkersList();\n  }\n\n  function removeByKey(key: string): void {\n      var totalMarkers = markersList.length;\n      var indexes = [];\n      for (var i =0; i < totalMarkers; i++) {\n          if (markersList[i].key === key) {\n              indexes.push(i);\n              break;\n          }\n      }\n\n      if (indexes.length > 0) {\n          removeMarkers(indexes);\n      }\n  }\n\n  function removeMarkers(indexArray: Array<number>): void {\n    // reset overlay\n    if (!!breakOverlay){\n      overlayIndex = NULL_INDEX;\n      breakOverlay.style.visibility = \"hidden\";\n    }\n    currentMarkerIndex = NULL_INDEX;\n\n    let deleteIndexList: Array<number> = [];\n    indexArray.forEach((index: number) => {\n      let marker = markersList[index];\n      if (marker) {\n        // delete from memory\n        delete markersMap[marker.key];\n        deleteIndexList.push(index);\n\n        // delete from dom\n        let el = player.el().querySelector(\".vjs-bookmark[data-marker-id='\" + marker.key +\"']\");\n        el && el.parentNode.removeChild(el);\n      }\n    });\n\n    // clean up markers array\n    deleteIndexList.reverse();\n    deleteIndexList.forEach((deleteIndex: number) => {\n      markersList.splice(deleteIndex, 1);\n    });\n\n    // sort again\n    sortMarkersList();\n  }\n\n  // attach hover event handler\n  function registerMarkerTipHandler(markerDiv: Object): void {\n    markerDiv.addEventListener('mouseover', () => {\n        markerDiv.classList.add('vjs-bookmark--focus');\n\n        markerDiv.querySelector('.udi-delete').classList.remove('hide');\n        markerDiv.querySelector('.vjs-bookmark__content').classList.remove('hide');\n        markerDiv.querySelector('.udi-check').classList.remove('show');\n    });\n\n    markerDiv.addEventListener('mouseout',() => {\n        markerDiv.classList.remove('vjs-bookmark--focus');\n    });\n  }\n\n  // show or hide break overlays\n  function updateBreakOverlay(): void {\n    if (!setting.breakOverlay.display || currentMarkerIndex < 0) {\n      return;\n    }\n\n    var currentTime = player.currentTime();\n    var marker = markersList[currentMarkerIndex];\n    var markerTime = setting.markerTip.time(marker);\n\n    if (\n      currentTime >= markerTime &&\n      currentTime <= (markerTime + setting.breakOverlay.displayTime)\n    ) {\n      if (overlayIndex !== currentMarkerIndex) {\n        overlayIndex = currentMarkerIndex;\n        if (breakOverlay) {\n          breakOverlay.querySelector('.vjs-break-overlay-text').innerHTML = setting.breakOverlay.text(marker);\n        }\n      }\n\n      if (breakOverlay) {\n        breakOverlay.style.visibility = \"visible\";\n      }\n    } else {\n      overlayIndex = NULL_INDEX;\n      if (breakOverlay) {\n        breakOverlay.style.visibility = \"hidden\";\n      }\n    }\n  }\n\n  // problem when the next marker is within the overlay display time from the previous marker\n  function initializeOverlay(): void {\n    breakOverlay = videojs.createEl('div', {\n      className: 'vjs-break-overlay',\n      innerHTML: \"<div class='vjs-break-overlay-text'></div>\"\n    });\n    Object.keys(setting.breakOverlay.style).forEach(key => {\n      if (breakOverlay) {\n        breakOverlay.style[key] = setting.breakOverlay.style[key];\n      }\n    });\n    player.el().appendChild(breakOverlay);\n    overlayIndex = NULL_INDEX;\n  }\n\n  function onTimeUpdate(): void {\n    onUpdateMarker();\n    updateBreakOverlay();\n    options.onTimeUpdateAfterMarkerUpdate && options.onTimeUpdateAfterMarkerUpdate();\n  }\n\n  function onUpdateMarker() {\n    /*\n      check marker reached in between markers\n      the logic here is that it triggers a new marker reached event only if the player\n      enters a new marker range (e.g. from marker 1 to marker 2). Thus, if player is on marker 1 and user clicked on marker 1 again, no new reached event is triggered)\n    */\n    if (!markersList.length) {\n      return;\n    }\n\n    var getNextMarkerTime = (index: number) => {\n      if (index < markersList.length - 1) {\n        return setting.markerTip.time(markersList[index + 1]);\n      }\n      // next marker time of last marker would be end of video time\n      return player.duration();\n    }\n    var currentTime = player.currentTime();\n    var newMarkerIndex = NULL_INDEX;\n\n    if (currentMarkerIndex !== NULL_INDEX) {\n      // check if staying at same marker\n      var nextMarkerTime = getNextMarkerTime(currentMarkerIndex);\n      if(\n        currentTime >= setting.markerTip.time(markersList[currentMarkerIndex]) &&\n        currentTime < nextMarkerTime\n      ) {\n        return;\n      }\n\n      // check for ending (at the end current time equals player duration)\n      if (\n        currentMarkerIndex === markersList.length - 1 &&\n        currentTime === player.duration()\n      ) {\n        return;\n      }\n    }\n\n    // check first marker, no marker is selected\n    if (currentTime < setting.markerTip.time(markersList[0])) {\n      newMarkerIndex = NULL_INDEX;\n    } else {\n      // look for new index\n      for (var i = 0; i < markersList.length; i++) {\n        nextMarkerTime = getNextMarkerTime(i);\n        if (\n          currentTime >= setting.markerTip.time(markersList[i]) &&\n          currentTime < nextMarkerTime\n        ) {\n          newMarkerIndex = i;\n          break;\n        }\n      }\n    }\n\n    // set new marker index\n    if (newMarkerIndex !== currentMarkerIndex) {\n      // trigger event if index is not null\n      if (newMarkerIndex !== NULL_INDEX && options.onMarkerReached) {\n        options.onMarkerReached(markersList[newMarkerIndex], newMarkerIndex);\n      }\n      currentMarkerIndex = newMarkerIndex;\n    }\n  }\n\n  // setup the whole thing\n  function initialize(): void {\n    // if (setting.markerTip.display) {\n    //   initializeMarkerTip();\n    // }\n\n    // remove existing markers if already initialized\n    player.markers.removeAll();\n    addMarkers(setting.markers);\n\n    if (setting.breakOverlay.display) {\n      initializeOverlay();\n    }\n    onTimeUpdate();\n    player.on(\"timeupdate\", onTimeUpdate);\n    player.off(\"loadedmetadata\");\n  }\n\n  // setup the plugin after we loaded video's meta data\n  player.on(\"loadedmetadata\", function() {\n    initialize();\n  });\n\n  // exposed plugin API\n  player.markers = {\n    getMarkers: function(): Array<Marker> {\n      return markersList;\n    },\n    next : function(): void {\n      // go to the next marker from current timestamp\n      const currentTime = player.currentTime();\n      for (var i = 0; i < markersList.length; i++) {\n        var markerTime = setting.markerTip.time(markersList[i]);\n        if (markerTime > currentTime) {\n          player.currentTime(markerTime);\n          break;\n        }\n      }\n    },\n    prev : function(): void {\n      // go to previous marker\n      const currentTime = player.currentTime();\n      for (var i = markersList.length - 1; i >= 0 ; i--) {\n        var markerTime = setting.markerTip.time(markersList[i]);\n        // add a threshold\n        if (markerTime + 0.5 < currentTime) {\n          player.currentTime(markerTime);\n          return;\n        }\n      }\n    },\n    add : function(newMarkers: Array<Marker>): void {\n      // add new markers given an array of index\n      addMarkers(newMarkers);\n    },\n    remove: function(indexArray: Array<number>): void {\n      // remove markers given an array of index\n      removeMarkers(indexArray);\n    },\n    removeByKey: function(key: string) {\n        removeByKey(key);\n    },\n    removeAll: function(): void {\n      var indexArray = [];\n      for (var i = 0; i < markersList.length; i++) {\n        indexArray.push(i);\n      }\n      removeMarkers(indexArray);\n    },\n    // force - force all markers to be updated, regardless of if they have changed or not.\n    updateTime: function(force: boolean): void {\n      // notify the plugin to update the UI for changes in marker times\n      updateMarkers(force);\n    },\n    reset: function(newMarkers: Array<Marker>): void {\n      // remove all the existing markers and add new ones\n      player.markers.removeAll();\n      addMarkers(newMarkers);\n    },\n    destroy: function(): void {\n      // unregister the plugins and clean up even handlers\n      player.markers.removeAll();\n      breakOverlay && breakOverlay.remove();\n      markerTip && markerTip.remove();\n      player.off(\"timeupdate\", updateBreakOverlay);\n      delete player.markers;\n    },\n  };\n}\n\nvideojs.plugin('markers', registerVideoJsMarkersPlugin);\n"]}